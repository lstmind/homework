<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∏—Å—å–º–æ –î–µ–¥—É –ú–æ—Ä–æ–∑—É</title>
    <link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@700&family=Pacifico&family=Roboto+Slab:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --christmas-red: #a82325;
            --christmas-green: #1b4d2e;
            --gold: #d4af37;
            --parchment-bg: #f4e4bc;
            --ink-color: #3e2f22;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            min-height: 100vh;
            font-family: 'Roboto Slab', serif;
            /* –§–æ–Ω: –£—é—Ç–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞ */
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
                        url('https://images.unsplash.com/photo-1543589077-47d81606c1bf?q=80&w=2070&auto=format&fit=crop') no-repeat center center fixed;
            background-size: cover;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }


        /* --- –ê–ù–ò–ú–ò–†–û–í–ê–ù–ù–ê–Ø –ì–ò–†–õ–Ø–ù–î–ê --- */
        .garland {
            position: fixed;
            top: 0; left: 0; width: 100%;
            height: 100px;
            z-index: 20;
            display: flex;
            justify-content: space-around;
            pointer-events: none;
        }

        .light {
            width: 12px; height: 18px;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            position: relative;
            top: -5px;
            animation: flash 1.5s infinite alternate;
        }

        .light:nth-child(4n+1) { background: #ff4d4d; box-shadow: 0 0 15px #ff4d4d; animation-delay: 0s; }
        .light:nth-child(4n+2) { background: #4dff4d; box-shadow: 0 0 15px #4dff4d; animation-delay: 0.4s; }
        .light:nth-child(4n+3) { background: #4d4dff; box-shadow: 0 0 15px #4d4dff; animation-delay: 0.8s; }
        .light:nth-child(4n+4) { background: #ffff4d; box-shadow: 0 0 15px #ffff4d; animation-delay: 1.2s; }

        @keyframes flash {
            from { opacity: 0.4; filter: brightness(0.5); }
            to { opacity: 1; filter: brightness(1.5); }
        }

        /* –û—Å—Ç–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
        #snow-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 4; pointer-events: none; }

        .letter-container {
            position: relative;
            width: 90%; max-width: 550px;
            perspective: 1000px;
            z-index: 10;
            margin-top: -5vh; /* –ü—Ä–∏–ø–æ–¥–Ω–∏–º–∞–µ–º –ø–∏—Å—å–º–æ */
        }

        .parchment {
            background-color: var(--parchment-bg);
            background-image: url('https://www.transparenttextures.com/patterns/paper-fibers.png');
            padding: 50px 40px;
            border-radius: 3px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.8);
            border: 12px solid transparent;
            border-image: repeating-linear-gradient(45deg, var(--christmas-red), var(--christmas-red) 15px, #fff 15px, #fff 30px, var(--christmas-green) 30px, var(--christmas-green) 45px, #fff 45px, #fff 60px) 15;
            transition: transform 0.6s ease-out;
        }

        .seal {
            position: absolute; bottom: 20px; right: 20px;
            width: 70px; height: 70px; background: #8b0000;
            border-radius: 50%; box-shadow: inset 0 0 15px rgba(0,0,0,0.5), 2px 2px 5px rgba(0,0,0,0.3);
            display: flex; align-items: center; justify-content: center;
            color: var(--gold); font-size: 2rem; transform: rotate(-15deg);
            border: 2px solid #a00;
        }

        h1 { font-family: 'Mountains of Christmas', cursive; font-size: 3rem; text-align: center; color: var(--christmas-red); margin-bottom: 20px; }
        label { font-family: 'Pacifico', cursive; color: var(--christmas-green); display: block; margin-bottom: 8px; font-size: 1.2rem; }
        input, textarea { width: 100%; background: transparent; border: none; border-bottom: 1px solid rgba(0,0,0,0.1); font-family: 'Pacifico', cursive; font-size: 1.3rem; color: var(--ink-color); outline: none; }
        textarea { line-height: 38px; height: 220px; background-image: linear-gradient(transparent, transparent 37px, rgba(0,0,0,0.05) 37px); background-size: 100% 38px; resize: none; }

        .send-btn {
            display: block; width: 100%; padding: 18px; margin-top: 20px;
            font-family: 'Mountains of Christmas', cursive; font-size: 2rem; color: white;
            background: linear-gradient(to bottom, #d42426, #8b0000);
            border: none; border-radius: 8px; cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            transition: 0.3s;
        }
        .send-btn:hover { transform: scale(1.02); filter: brightness(1.1); }

        footer { position: fixed; bottom: 10px; width: 100%; text-align: center; color: rgba(255,255,255,0.7); font-size: 0.9rem; z-index: 100; text-shadow: 1px 1px 2px #000; }

        .letter-sent { animation: flyAway 2s forwards ease-in-out; }
        @keyframes flyAway { 100% { transform: translateY(-150vh) rotateZ(30deg) scale(0.1); opacity: 0; } }

        #success-message { display: none; text-align: center; position: fixed; top: 40%; left: 50%; transform: translate(-50%, -50%); color: white; z-index: 100; }
    </style>
</head>
<body>

    <div class="garland" id="garland"></div>

    <canvas id="snow-canvas"></canvas>

    <main class="letter-container" id="main-container">
        <div class="parchment" id="letter-form-wrapper">
            <div class="seal">üéÑ</div>
            <h1>–î–æ—Ä–æ–≥–æ–π –î–µ–¥—É—à–∫–∞ –ú–æ—Ä–æ–∑</h1>
            
            <form id="santa-form">
                <div class="form-group">
                    <label for="name">–ú–µ–Ω—è –∑–æ–≤—É—Ç:</label>
                    <input type="text" id="name" required value="–†–∞–± —Å–∏—Å—Ç–µ–º—ã">
                </div>
                
                <div class="form-group">
                    <label for="wishlist">–ú–æ—ë –∑–∞–≤–µ—Ç–Ω–æ–µ –∂–µ–ª–∞–Ω–∏–µ:</label>
                    <textarea id="wishlist" required></textarea>
                </div>
                
                <button type="submit" class="send-btn">–ü–æ–ª–æ–∂–∏—Ç—å –ø–æ–¥ —ë–ª–∫—É ‚ú®</button>
            </form>
        </div>
    </main>

    <div id="success-message">
        <div style="font-size: 6rem;">üéÅü¶å</div>
        <h2 style="font-family: 'Mountains of Christmas'; font-size: 4rem; color: var(--gold);">–ü–∏—Å—å–º–æ –≤ –ø—É—Ç–∏!</h2>
        <p style="font-family: 'Pacifico'; font-size: 1.5rem;">–ß—É–¥–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–ª—É—á–∏—Ç—Å—è...</p>
    </div>

    <footer>
        <p>¬© 2026 –ú–∞–≥–∏—è –ù–æ–≤–æ–≥–æ –ì–æ–¥–∞. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.    </p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // –°–æ–∑–¥–∞–µ–º –ª–∞–º–ø–æ—á–∫–∏ –¥–ª—è –≥–∏—Ä–ª—è–Ω–¥—ã
        const garland = document.getElementById('garland');
        for (let i = 0; i < 25; i++) {
            const light = document.createElement('div');
            light.className = 'light';
            garland.appendChild(light);
        }

        const textarea = document.getElementById('wishlist');
        const letter = document.getElementById('letter-form-wrapper');
        
        // --- 1. –ü–ª–∞–≤–Ω–∞—è –ø–µ—á–∞—Ç—å ---
        const message = "–î–µ–¥—É—à–∫–∞ –ú–æ—Ä–æ–∑, —è –æ—á–µ–Ω—å —Å—Ç–∞—Ä–∞–ª—Å—è –≤–µ—Å—Ç–∏ —Å–µ–±—è —Ö–æ—Ä–æ—à–æ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–∏–Ω–µ—Å–∏ –≤ –Ω–∞—à –¥–æ–º —Ä–∞–¥–æ—Å—Ç—å, –∑–¥–æ—Ä–æ–≤—å–µ –º–æ–∏–º —Ä–æ–¥–∏—Ç–µ–ª—è–º –∏ –Ω–µ–º–Ω–æ–≥–æ –≤–æ–ª—à–µ–±—Å—Ç–≤–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∞—Å. –ü—É—Å—Ç—å —ç—Ç–∞ –∑–∏–º–∞ —Å—Ç–∞–Ω–µ—Ç –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É —Å–∫–∞–∑–æ—á–Ω–æ–π...";
        let i = 0;
        function type() {
            if (i < message.length) {
                textarea.value += message.charAt(i); i++;
                setTimeout(type, 50);
            }
        }
        setTimeout(type, 1500);

        // --- 2. –°–Ω–µ–≥ ---
        const canvas = document.getElementById('snow-canvas');
        const ctx = canvas.getContext('2d');
        let width, height, particles = [];
        function resize() { width = canvas.width = window.innerWidth; height = canvas.height = window.innerHeight; }
        window.addEventListener('resize', resize); resize();

        for (let i = 0; i < 70; i++) {
            particles.push({ x: Math.random() * width, y: Math.random() * height, r: Math.random() * 2 + 1, d: Math.random() * 0.4 + 0.2, s: Math.random() * 0.02 });
        }
        function draw() {
            ctx.clearRect(0, 0, width, height);
            ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
            ctx.beginPath();
            particles.forEach(p => {
                ctx.moveTo(p.x, p.y); ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
                p.y += p.d; p.x += Math.sin(p.y * p.s) * 0.5;
                if (p.y > height) p.y = -10;
            });
            ctx.fill();
            requestAnimationFrame(draw);
        }
        draw();

        // --- 3. –ù–∞–∫–ª–æ–Ω ---
        document.addEventListener('mousemove', (e) => {
            let xAxis = (window.innerWidth / 2 - e.pageX) / 200;
            let yAxis = (window.innerHeight / 2 - e.pageY) / 200;
            if(!letter.classList.contains('letter-sent'))
                letter.style.transform = `rotateY(${xAxis}deg) rotateX(${yAxis}deg)`;
        });

        // --- 4. –û—Ç–ø—Ä–∞–≤–∫–∞ ---
        document.getElementById('santa-form').addEventListener('submit', (e) => {
            e.preventDefault();
            letter.classList.add('letter-sent');
            setTimeout(() => {
                document.getElementById('main-container').style.display = 'none';
                document.getElementById('success-message').style.display = 'block';
            }, 1900);
        });
    });
    </script>
</body>
</html>